(function(b){b.cluetip={version:"1.2.10",template:'<div><div class="cluetip-outer"><h3 class="cluetip-title ui-widget-header ui-cluetip-header"></h3><div class="cluetip-inner ui-widget-content ui-cluetip-content"></div></div><div class="cluetip-extra"></div></div>',setup:{insertionType:"appendTo",insertionElement:"body"},defaults:{multiple:!0,width:320,height:"auto",cluezIndex:97,positionBy:"fixed",topOffset:6,leftOffset:0,snapToEdge:!1,local:!0,localPrefix:null,localIdSuffix:null,hideLocal:!0,attribute:"data-jtip",
  titleAttribute:"title",splitTitle:"",escapeTitle:!1,showTitle:!0,cluetipClass:"default",hoverClass:"",waitImage:!1,cursor:"help",arrows:!0,dropShadow:!0,dropShadowSteps:6,sticky:!0,mouseOutClose:"both",delayedClose:0,activation:"hover",clickThrough:!0,tracking:!1,closePosition:"top",closeText:"",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(b){return!0},onShow:function(b,g){},onHide:function(b,g){},ajaxCache:!0,ajaxProcess:function(b){return b=
      b.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,"").replace(/<(link|meta)[^>]+>/g,"")},ajaxSettings:{dataType:"html"},debug:!1}};var v,A={},Z=0,R=0;b.fn.attrProp=b.fn.prop||b.fn.attr;b.fn.cluetip=function(u,g){function la(c,d){var h=c||"";d=d||"";"object"==typeof d?b.each(d,function(b,c){h+="-"+b+"-"+c}):"string"==typeof d&&(h+=d);return h}function ma(c,d,h){h="";d=d.dropShadow&&d.dropShadowSteps?+d.dropShadowSteps:0;if(b.cluetip.boxShadow)return d&&(h="1px 1px "+d+"px rgba(0,0,0,0.5)"),
    c.css(b.cluetip.boxShadow,h),!1;h=c.find(".cluetip-drop-shadow");if(d==h.length)return h;h.remove();h=[];for(var g=0;g<d;)h[g++]='<div style="top:'+g+"px;left:"+g+'px;"></div>';return h=b(h.join("")).css({position:"absolute",backgroundColor:"#000",zIndex:S-1,opacity:.1}).addClass("cluetip-drop-shadow").prependTo(c)}var c,d,H,B,I,T;"object"==typeof u&&(g=u,u=null);if("destroy"==u)return this.each(function(c){c=b(this);var d=c.data("cluetip");d&&(b(d.selector).remove(),b.removeData(this,"title"),b.removeData(this,
    "cluetip"));d.title&&c.attrProp("title",d.title);c.unbind(".cluetip").unbind("cluetipMoc")}),b('[id^="cluetip"]').length||b(document).unbind(".cluetip"),this;g=b.extend(!0,{},b.cluetip.defaults,g||{});Z++;var S,U=b.cluetip.backCompat||!g.multiple?"cluetip":"cluetip-"+Z,ca="#"+U,D=b.cluetip.backCompat?"#":".",N=b.cluetip.setup.insertionType,da=b.cluetip.setup.insertionElement||"body",N=/appendTo|prependTo|insertBefore|insertAfter/.test(N)?N:"appendTo";c=b(ca);c.length||(c=b(b.cluetip.template)[N](da).attr("id",
    U).css({position:"absolute",display:"none"}),S=+g.cluezIndex,H=c.find(D+"cluetip-outer").css({position:"relative",zIndex:S}),d=c.find(D+"cluetip-inner"),B=c.find(D+"cluetip-title"),c.bind("mouseenter mouseleave",function(c){b(this).data("entered","mouseenter"===c.type)}));v=b("#cluetip-waitimage");!v.length&&g.waitImage&&(v=b("<div></div>").attr("id","cluetip-waitimage").css({position:"absolute"}),v.insertBefore(c).hide());var na=(parseInt(c.css("paddingLeft"),10)||0)+(parseInt(c.css("paddingRight"),
        10)||0);this.each(function(N){function Z(){return!1}function h(a,b){var c=a.status;b.beforeSend(a.xhr,b);if("error"==c)b[c](a.xhr,a.textStatus);else if("success"==c)b[c](a.data,a.textStatus,a.xhr);b.complete(a.xhr,b.textStatus)}var U,t=this,e=b(this),a=b.extend(!0,{},g,b.metadata?e.metadata():b.meta?e.data():e.data("cluetip")||{}),J=!1,O=!1,w=null,n=a[a.attribute]||("href"==a.attribute?e.attr(a.attribute):e.attrProp(a.attribute)||e.attr(a.attribute)),V=a.cluetipClass;S=+a.cluezIndex;e.data("cluetip",
    {title:t.title,zIndex:S,selector:ca,cursor:t.style.cursor||""});a.arrows&&!c.find(".cluetip-arrows").length&&c.append('<div class="cluetip-arrows ui-state-default"></div>');if(!n&&!a.splitTitle&&!u)return!0;a.local&&a.localPrefix&&(n=a.localPrefix+n);a.local&&a.hideLocal&&n&&b(n+":first").hide();var p=parseInt(a.topOffset,10),G=parseInt(a.leftOffset,10),q,ea,aa=isNaN(parseInt(a.height,10))?"auto":/\D/g.test(a.height)?a.height:a.height+"px",W,fa,ia,C,r,K,X,ga=parseInt(a.width,10)||275,x=ga+na+a.dropShadowSteps,
    L=this.offsetWidth,y,m,z,P,M,E="title"!=a.attribute?e.attr(a.titleAttribute)||"":"";a.escapeTitle&&(E=E.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"));a.splitTitle&&(M=E.split(a.splitTitle),E=a.showTitle||""===M[0]?M.shift():"");e.bind("mouseenter mouseleave",function(a){var b=e.data("cluetip");b.entered="entered"===a.type;e.data("cluetip",b)});var F=function(k){var l,f;if(!1===a.onActivate.call(t,k))return!1;O=!0;c=b(ca).css({position:"absolute"});H=c.find(D+"cluetip-outer");d=
    c.find(D+"cluetip-inner");B=c.find(D+"cluetip-title");I=c.find(D+"cluetip-arrows");c.removeClass().css({width:ga});n==e.attr("href")&&e.css("cursor",a.cursor);a.hoverClass&&e.addClass(a.hoverClass);fa=C=e.offset().top;ia=fa+e.innerHeight();y=e.offset().left;"relative"===b(da).css("position")&&(y-=b(da)[0].getBoundingClientRect().left);L=e.innerWidth();k.type==focus||"mouse"==a.positionBy&&!k.pageX?(z=y+L/2+G,c.css({left:m}),K=C+p):(z=k.pageX,K=k.pageY);"area"!=t.tagName.toLowerCase()&&(W=b(document).scrollTop(),
    P=b(window).width());if("fixed"==a.positionBy)m=L+y+G,window.screen.width<m+parseInt(c.width(),10)&&(direction="left",m=y-parseInt(c.width(),10)),c.css({left:m});else{m=L>y&&y>x||y+L+x+G>P?y-x-G:L+y+G;if("area"==t.tagName.toLowerCase()||"mouse"==a.positionBy||L+x>P)z+20+x>P?(c.addClass("cluetip-"+V),m=0<=z-x-G?z-x-G-parseInt(c.css("marginLeft"),10)+parseInt(d.css("marginRight"),10):z-x/2):m=z+G;l=0>m?k.pageY+p:k.pageY;if(0>m||"bottomTop"==a.positionBy||"topBottom"==a.positionBy)m=z+x/2>P?P/2-x/2:
    Math.max(z-x/2,0)}I.css({zIndex:e.data("cluetip").zIndex+1});c.css({left:m,zIndex:e.data("cluetip").zIndex});ea=b(window).height();if(u)U="function"==typeof u?u.call(t):u,d.html(U),Q(l);else if(M){k=M.length;d.html(k?M[0]:"");if(1<k)for(var ha=1;ha<k;ha++)d.append('<div class="split-body">'+M[ha]+"</div>");Q(l)}else if(a.local||0===n.indexOf("#"))a.local&&(k=b(n+(/^#\S+$/.test(n)?"":":eq("+N+")")).clone(!0).show(),a.localIdSuffix&&k.attr("id",k[0].id+a.localIdSuffix),d.html(k),Q(l));else if(/\.(jpe?g|tiff?|gif|png)(?:\?.*)?$/i.test(n))d.html('<img src="'+
    n+'" alt="'+E+'" />'),Q(l);else{var q=a.ajaxSettings.beforeSend,r=a.ajaxSettings.error,w=a.ajaxSettings.success,F=a.ajaxSettings.complete;f=la(n,a.ajaxSettings.data);k=b.extend(!0,{},a.ajaxSettings,{cache:a.ajaxCache,url:n,beforeSend:function(b,k){q&&q.call(t,b,c,d,k);H.children().empty();a.waitImage&&v.css({top:K+20,left:z+20,zIndex:e.data("cluetip").zIndex-1}).show()},error:function(a,b){g.ajaxCache&&!A[f]&&(A[f]={status:"error",textStatus:b,xhr:a});O&&(r?r.call(t,a,b,c,d):d.html("<i>sorry, the contents could not be loaded</i>"))},
  success:function(b,k,e){g.ajaxCache&&!A[f]&&(A[f]={status:"success",data:b,textStatus:k,xhr:e});J=a.ajaxProcess.call(t,b);"object"==typeof J&&null!==J&&(E=J.title,J=J.content);O&&(w&&w.call(t,b,k,c,d),d.html(J))},complete:function(a,k){F&&F.call(t,a,k,c,d);var e=d[0].getElementsByTagName("img");R=e.length;for(var f=0,g=e.length;f<g;f++)e[f].complete&&R--;R?b(e).bind("load.ct error.ct",function(){R--;0===R&&(v.hide(),b(e).unbind(".ct"),O&&Q(l))}):(v.hide(),O&&Q(l))}});A[f]?h(A[f],k):b.ajax(k)}};e.unbind("showCluetip.cluetip",
    F).bind("showCluetip.cluetip",F);var Q=function(k){var l,f;l=E||a.showTitle&&"&nbsp;";var g="";f="";var h=!1,h={bottom:function(a){a.appendTo(d)},top:function(a){a.prependTo(d)},title:function(a){a.prependTo(B)}};c.addClass("cluetip-"+V);if(a.truncate){var n=d.text().slice(0,a.truncate)+"...";d.html(n)}l?B.show().html(l):B.hide();a.sticky&&(h[a.closePosition]&&(l=b('<div class="cluetip-close"><a href="#">'+a.closeText+"</a></div>"),h[a.closePosition](l),l.bind("click.cluetip",function(){Y();return!1})),
a.mouseOutClose&&(e.unbind("mouseleave.cluetipMoc"),c.unbind("mouseleave.cluetipMoc"),"both"!=a.mouseOutClose&&"cluetip"!=a.mouseOutClose&&!0!==a.mouseOutClose||c.bind("mouseleave.cluetipMoc",ja),"both"!=a.mouseOutClose&&"link"!=a.mouseOutClose||e.bind("mouseleave.cluetipMoc",ja)));H.css({zIndex:e.data("cluetip").zIndex,overflow:"auto"==aa?"visible":"auto",height:aa});q="auto"==aa?Math.max(c.outerHeight(),c.height()):parseInt(aa,10);r=C;X=W+ea;h=m<z&&Math.max(m,0)+x>z;if("fixed"==a.positionBy)r=C-
    a.dropShadowSteps+p;else if("topBottom"==a.positionBy||"bottomTop"==a.positionBy||h){if("topBottom"==a.positionBy)f=C+q+p<X&&K-W<q+p?"bottom":"top";else if("bottomTop"==a.positionBy||h)f=C+q+p>X&&K-W>q+p?"top":"bottom";a.snapToEdge?"top"==f?r=fa-q-p:"bottom"==f&&(r=ia+p):"top"==f?r=K-q-p:"bottom"==f&&(r=K+p)}else r=C+q+p>X?q>=ea?W:X-q-p:"block"==e.css("display")||"area"==t.tagName.toLowerCase()||"mouse"==a.positionBy?k-p:C-a.dropShadowSteps;""===f&&(f=m<y?"left":"right");l=" clue-"+f+"-"+V+" cluetip-"+
    V;"rounded"==V&&(l+=" ui-corner-all");c.css({top:r+"px"}).attrProp({className:"cluetip ui-widget ui-widget-content ui-cluetip"+l});a.arrows?(/(left|right)/.test(f)&&(f=c.height()-I.height(),g=0<=m&&0<k?C-r-a.dropShadowSteps:0,g=(f>g?g:f)+"px"),I.css({top:g}).show()):I.hide();(T=ma(c,a))&&T.length&&T.hide().css({height:q,width:ga,zIndex:e.data("cluetip").zIndex-1}).show();w||c.hide();clearTimeout(w);w=null;c[a.fx.open](a.fx.openSpeed||0);b.fn.bgiframe&&c.bgiframe();a.onShow.call(t,c,d)},ba=function(b){O=
    !1;v.hide();if(!a.sticky||/click|toggle/.test(a.activation))0<a.delayedClose?(clearTimeout(w),w=null,w=setTimeout(Y,a.delayedClose)):(Y(),clearTimeout(w));a.hoverClass&&e.removeClass(a.hoverClass)},Y=function(c){c=c&&c.data("cluetip")?c:e;var d=c.data("cluetip")&&c.data("cluetip").selector,f=b(d||"div.cluetip"),g=f.find(D+"cluetip-inner"),h=f.find(D+"cluetip-arrows");f.hide().removeClass();a.onHide.call(c[0],f,g);d&&(c.removeClass("cluetip-clicked"),e.css("cursor",e.data("cluetip").cursor));d&&E&&
c.attrProp(a.titleAttribute,E);a.arrows&&h.css({top:""});T&&T.hide()},ja=function(){var b=this;clearTimeout(w);w=setTimeout(function(){var d=e.data("cluetip").entered,f=c.data("entered"),g=!1;"both"==a.mouseOutClose&&(d||f)?g=!0:!0!==a.mouseOutClose&&"cluetip"!=a.mouseOutClose||!f?"link"==a.mouseOutClose&&d&&(g=!0):g=!0;g||Y.call(b)},a.delayedClose)};b(document).unbind("hideCluetip.cluetip").bind("hideCluetip.cluetip",function(a){Y(b(a.target))});if(/click|toggle/.test(a.activation))e.bind("click.cluetip",
    function(a){c.is(":hidden")||!e.is(".cluetip-clicked")?(F(a),b(".cluetip-clicked").removeClass("cluetip-clicked"),e.addClass("cluetip-clicked")):ba(a);return!1});else if("focus"==a.activation)e.bind("focus.cluetip",function(a){e.attrProp("title","");F(a)}),e.bind("blur.cluetip",function(a){e.attrProp("title",e.data("cluetip").title);ba(a)});else{e[a.clickThrough?"unbind":"bind"]("click.cluetip",Z);var ka=function(b){if(a.tracking){var d=m-b.pageX,f=r?r-b.pageY:C-b.pageY;e.bind("mousemove.cluetip",
    function(a){c.css({left:a.pageX+d,top:a.pageY+f})})}};b.fn.hoverIntent&&a.hoverIntent?e.hoverIntent({sensitivity:a.hoverIntent.sensitivity,interval:a.hoverIntent.interval,over:function(a){F(a);ka(a)},timeout:a.hoverIntent.timeout,out:function(a){ba(a);e.unbind("mousemove.cluetip")}}):e.bind("mouseenter.cluetip",function(a){F(a);ka(a)}).bind("mouseleave.cluetip",function(a){ba(a);e.unbind("mousemove.cluetip")});e.bind("mouseover.cluetip",function(a){e.attrProp("title","")}).bind("mouseleave.cluetip",
    function(a){e.attrProp("title",e.data("cluetip").title)})}});return this};(function(){b.support=b.support||{};for(var u=document.createElement("div").style,g=["boxShadow"],v=["moz","Moz","webkit","o"],A=0,c=g.length;A<c;A++){var d=g[A],H=d.charAt(0).toUpperCase()+d.slice(1);if("undefined"!==typeof u[d])b.cluetip[d]=d;else for(var B=0,I=v.length;B<I;B++)if("undefined"!==typeof u[v[B]+H]){b.cluetip[d]=v[B]+H;break}b.support[d]||(b.support[d]=b.cluetip[d])}})();b.fn.cluetip.defaults=b.cluetip.defaults})(jQuery);